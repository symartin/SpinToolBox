<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SpinToolBox: D:/Sylvain/Instru/SpinToolBox V2.6/src/SDK/SDK/SData/SData2DScript.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../compass64.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">SpinToolBox&#160;<span id="projectnumber">2.6</span></div>
   <div id="projectbrief">Automatize the measurement process in the characterization of the magnetic tunnel junction</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>D:/Sylvain/Instru/SpinToolBox V2.6/src/SDK/SDK/SData/SData2DScript.cpp</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;SData2DScript.h&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;QScriptable&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;QScriptValue&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;QScriptEngine&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;SData\SData2D.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;QVariant.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;QList.h&gt;</span>
<a name="l00032"></a>00032 
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#aebb854468088cbeee4582a44b659bd6a">00044</a> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#aebb854468088cbeee4582a44b659bd6a" title="defalut constructor.">SData2DScript::SData2DScript</a>(QObject * parent):
<a name="l00045"></a>00045                     QObject(parent){
<a name="l00046"></a>00046      data2D_ = <span class="keyword">new</span> <a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a>();
<a name="l00047"></a>00047 }
<a name="l00048"></a>00048 
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#ae08a9d4b82ef2ec03012fbaa5cae2c75">00061</a> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#aebb854468088cbeee4582a44b659bd6a" title="defalut constructor.">SData2DScript::SData2DScript</a>(<a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a> * data, QObject * parent):
<a name="l00062"></a>00062      QObject(parent){
<a name="l00063"></a>00063      data2D_ = data;
<a name="l00064"></a>00064 }
<a name="l00065"></a>00065 
<a name="l00077"></a>00077 <a class="code" href="../../d1/d04/class_s_data2_d_script.html#aebb854468088cbeee4582a44b659bd6a" title="defalut constructor.">SData2DScript::SData2DScript</a>(<a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a>  data, QObject * parent) :QObject(parent){
<a name="l00078"></a>00078 
<a name="l00079"></a>00079      data2D_ = <span class="keyword">new</span> <a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a>(data);
<a name="l00080"></a>00080 }
<a name="l00081"></a>00081 
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#ab56fb25bf79c2854b009f20dff144adb">00091</a> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#ab56fb25bf79c2854b009f20dff144adb" title="Destructor.">SData2DScript::~SData2DScript</a>(<span class="keywordtype">void</span>){
<a name="l00092"></a>00092      <span class="keywordflow">if</span>(data2D_ != NULL){
<a name="l00093"></a>00093           <span class="keyword">delete</span>(data2D_);
<a name="l00094"></a>00094      }
<a name="l00095"></a>00095 }
<a name="l00096"></a>00096 
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#af2b997431d8815248ae2b45a198e497c">00111</a> QScriptValue <a class="code" href="../../d1/d04/class_s_data2_d_script.html#af2b997431d8815248ae2b45a198e497c" title="this function is use by script engine to create a new SData2D.">SData2DScript::qsCtor</a>(QScriptContext *context, QScriptEngine *engine) {
<a name="l00112"></a>00112 
<a name="l00113"></a>00113       <span class="keywordflow">if</span>(context-&gt;argument(0).isObject()){
<a name="l00114"></a>00114                QObject *parent = context-&gt;argument(0).toQObject();
<a name="l00115"></a>00115       }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117      QObject *<span class="keywordtype">object</span> = <span class="keyword">new</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#aebb854468088cbeee4582a44b659bd6a" title="defalut constructor.">SData2DScript</a>();
<a name="l00118"></a>00118      <span class="keywordflow">return</span> engine-&gt;newQObject(<span class="keywordtype">object</span>, QScriptEngine::ScriptOwnership);
<a name="l00119"></a>00119  }
<a name="l00120"></a>00120 
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 QScriptValue SData2DScript::toScriptValue(QScriptContext *context, QScriptEngine *engine){
<a name="l00136"></a>00136      <span class="keywordflow">return</span> engine-&gt;newQObject(<span class="keyword">this</span>, QScriptEngine::ScriptOwnership);
<a name="l00137"></a>00137 }
<a name="l00138"></a>00138 
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#afefa5b4a12c7b5336a223af4d521ef20">00150</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#afefa5b4a12c7b5336a223af4d521ef20" title="Opens a file.">SData2DScript::openFile</a>(QString <span class="keyword">const</span> file){
<a name="l00151"></a>00151      <span class="keywordflow">try</span>{
<a name="l00152"></a>00152           data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a990210e1238c543567233d4502207ecf" title="Open and read data from a data file.">openFile</a>(file);
<a name="l00153"></a>00153      }<span class="keywordflow">catch</span>(QString error){
<a name="l00154"></a>00154           qDebug() &lt;&lt; <span class="stringliteral">&quot;SCRIPT ERROR : (in the function openFile)&quot;</span> &lt;&lt; error;
<a name="l00155"></a>00155           qDebug() &lt;&lt; <span class="stringliteral">&quot;Do not forget to escape the \\ charactere&quot;</span> &lt;&lt; error;
<a name="l00156"></a>00156           qDebug() &lt;&lt; <span class="stringliteral">&quot;file = &quot;</span> &lt;&lt; file;
<a name="l00157"></a>00157      }
<a name="l00158"></a>00158 }
<a name="l00159"></a>00159 
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a1ba2416c8f3c94fb80e4d3c147ccf99c">00191</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a1ba2416c8f3c94fb80e4d3c147ccf99c">SData2DScript::slideAverage</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> windows, <span class="keywordtype">double</span> <span class="keyword">const</span> PeackProtectCoeff){
<a name="l00192"></a>00192      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#ab2ea2386f185bc2e9d60a7fc5a06dea9" title="Slide average.">slideAverage</a>(windows, PeackProtectCoeff);
<a name="l00193"></a>00193 }
<a name="l00194"></a>00194 
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="keywordtype">void</span> SData2DScript::append(QVariantList x, QVariantList y){
<a name="l00208"></a>00208 
<a name="l00209"></a>00209      QVariant xtmp;
<a name="l00210"></a>00210      QVariant ytmp;
<a name="l00211"></a>00211      <span class="keywordflow">if</span>( y.count() == x.count()){
<a name="l00212"></a>00212           <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i =0; i&lt; y.count();i++){
<a name="l00213"></a>00213                xtmp = x.at(i);
<a name="l00214"></a>00214                ytmp = y.at(i);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216                <span class="keywordflow">if</span>( xtmp.canConvert&lt;<span class="keywordtype">double</span>&gt;() &amp;&amp; xtmp.convert(QVariant::Double)
<a name="l00217"></a>00217                     &amp;&amp; ytmp.canConvert&lt;<span class="keywordtype">double</span>&gt;() &amp;&amp; ytmp.convert(QVariant::Double)){
<a name="l00218"></a>00218                          data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a4f06e6091291df75bcee12e1ae28aa06" title="add a couple of value at the SData2D.">append</a>(xtmp.toDouble(),ytmp.toDouble());
<a name="l00219"></a>00219                }
<a name="l00220"></a>00220           }
<a name="l00221"></a>00221      }
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 }
<a name="l00225"></a>00225 
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <span class="keywordtype">void</span> SData2DScript::append(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y){
<a name="l00239"></a>00239      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a4f06e6091291df75bcee12e1ae28aa06" title="add a couple of value at the SData2D.">append</a>(x,y);
<a name="l00240"></a>00240 }
<a name="l00253"></a>00253 
<a name="l00254"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a3173b1c47b925d4c1a9d615f70679fa4">00254</a> <span class="keywordtype">double</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a3173b1c47b925d4c1a9d615f70679fa4" title="(SCRIPTABLE) get the value at index position i in the ordinate of the data.">SData2DScript::x</a>(<span class="keywordtype">int</span> i){
<a name="l00255"></a>00255      <span class="keywordflow">return</span> data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#af9443285d28c66da4cca112b7f95d758" title="Gets a pointer to the x data QList.">x</a>()-&gt;value(i);
<a name="l00256"></a>00256 }
<a name="l00257"></a>00257 
<a name="l00270"></a>00270 
<a name="l00271"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a2fc312b00b4c2a82a70a13cd21f3645c">00271</a> <span class="keywordtype">double</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a2fc312b00b4c2a82a70a13cd21f3645c" title="(SCRIPTABLE) get the value at index position i in the abscissa of the data.">SData2DScript::y</a>(<span class="keywordtype">int</span> i){
<a name="l00272"></a>00272      <span class="keywordflow">return</span> data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#aeedc3ad1f2b44bf2f76b93fea7500dc1" title="Gets a pointer to the y data QList.">y</a>()-&gt;value(i);
<a name="l00273"></a>00273 }
<a name="l00274"></a>00274 
<a name="l00282"></a>00282 
<a name="l00283"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a01b4739334310ff5c4ff5439e8ff9094">00283</a> <span class="keywordtype">int</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a01b4739334310ff5c4ff5439e8ff9094" title="(SCRIPTABLE) Gets the count of element.">SData2DScript::count</a>(<span class="keywordtype">void</span>){
<a name="l00284"></a>00284      <span class="keywordflow">return</span> data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#af9443285d28c66da4cca112b7f95d758" title="Gets a pointer to the x data QList.">x</a>()-&gt;count();
<a name="l00285"></a>00285 }
<a name="l00286"></a>00286 
<a name="l00297"></a>00297 
<a name="l00298"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a25cdc0d9f0ece45fe600e5502ed013be">00298</a> <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a25cdc0d9f0ece45fe600e5502ed013be" title="(SCRIPTABLE) Saves the data in a file.">SData2DScript::saveFile</a>(QString <span class="keyword">const</span> file){
<a name="l00299"></a>00299      <span class="keywordflow">try</span>{
<a name="l00300"></a>00300           data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a257edb4aa6ae519ca0f286fbb07ac58f" title="save data to a MagToolBox data file">saveFile</a>(file);
<a name="l00301"></a>00301      }<span class="keywordflow">catch</span>(QString error){
<a name="l00302"></a>00302           qDebug() &lt;&lt; <span class="stringliteral">&quot;SCRIPT ERROR : (in the function saveFile)&quot;</span> &lt;&lt; error;
<a name="l00303"></a>00303           qDebug() &lt;&lt; <span class="stringliteral">&quot;Do not forget to escape the \\ charactere&quot;</span> &lt;&lt; error;
<a name="l00304"></a>00304           qDebug() &lt;&lt; <span class="stringliteral">&quot;file = &quot;</span> &lt;&lt; file;
<a name="l00305"></a>00305      }
<a name="l00306"></a>00306 }
<a name="l00307"></a>00307 
<a name="l00320"></a>00320 
<a name="l00321"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a4eaca3fc2b993c594d83a18066f85c81">00321</a> Q_INVOKABLE QVariant <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a4eaca3fc2b993c594d83a18066f85c81" title="(SCRIPTABLE) return the MetaData with the key give in arguement.">SData2DScript::metaData</a>(QString <span class="keyword">const</span> key)<span class="keyword"> const</span>{
<a name="l00322"></a>00322      <span class="keywordflow">try</span>{
<a name="l00323"></a>00323           <span class="keywordflow">return</span> data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a31740f44ce26da9a4f4444510a8587f6" title="return the MetaData with the key give in argument.">metaData</a>(key);
<a name="l00324"></a>00324      }<span class="keywordflow">catch</span>(QString error){
<a name="l00325"></a>00325           qDebug() &lt;&lt; <span class="stringliteral">&quot;SCRIPT ERROR : (in the function metaData)&quot;</span> &lt;&lt; error;
<a name="l00326"></a>00326           qDebug() &lt;&lt; <span class="stringliteral">&quot;key = &quot;</span> &lt;&lt; key;
<a name="l00327"></a>00327           <span class="keywordflow">return</span> QVariant(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00328"></a>00328      }
<a name="l00329"></a>00329 }
<a name="l00330"></a>00330 
<a name="l00344"></a>00344 
<a name="l00345"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#af2a534c67a2b48db4ed9776074098ccd">00345</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#af2a534c67a2b48db4ed9776074098ccd" title="(SCRIPTABLE) add or reset a key of the metadata.">SData2DScript::setMetaData</a>(QString <span class="keyword">const</span> key, QVariant <span class="keyword">const</span> value){
<a name="l00346"></a>00346      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#abb7eec2fcce6bba385c8aa5533a23522" title="add or reset a key of the metadata.">setMetaData</a>(key,value);
<a name="l00347"></a>00347 }
<a name="l00348"></a>00348 
<a name="l00362"></a>00362 
<a name="l00363"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a22530170a7563add70031d90c8a87100">00363</a>  QScriptValue SData2DScript::toScriptValue(QScriptEngine *engine, <span class="keyword">const</span> <a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a> &amp;s)
<a name="l00364"></a>00364  {
<a name="l00365"></a>00365       QObject *<span class="keywordtype">object</span> = <span class="keyword">new</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#aebb854468088cbeee4582a44b659bd6a" title="defalut constructor.">SData2DScript</a>(<a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a>(s),NULL);
<a name="l00366"></a>00366      <span class="keywordflow">return</span> engine-&gt;newQObject(<span class="keywordtype">object</span>, QScriptEngine::ScriptOwnership);
<a name="l00367"></a>00367  }
<a name="l00368"></a>00368 
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 
<a name="l00371"></a>00371  <span class="keywordtype">void</span> SData2DScript::fromScriptValue(<span class="keyword">const</span> QScriptValue &amp;obj, <a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a> &amp;s)
<a name="l00372"></a>00372  {
<a name="l00373"></a>00373       <a class="code" href="../../d1/d04/class_s_data2_d_script.html" title="this class provides a Qt Script warper for the  class">SData2DScript</a> *qsData = qobject_cast&lt;<a class="code" href="../../d1/d04/class_s_data2_d_script.html" title="this class provides a Qt Script warper for the  class">SData2DScript</a>*&gt;(obj.toQObject());
<a name="l00374"></a>00374      <span class="comment">// s.setData(qsData-&gt;data2DObjectCopy());</span>
<a name="l00375"></a>00375       s.<a class="code" href="../../da/d81/class_s_data2_d.html#a8aef386513e4c4a6ca39b6d7fd21518e" title="Overwrites all the data an replace by argument data.">overwrite</a>(qsData-&gt;<a class="code" href="../../d1/d04/class_s_data2_d_script.html#a4f940a2353a4938d04773ca531fe2491" title="Gets the SData2D object en capsuled by this warper.">data2DObject</a>());
<a name="l00376"></a>00376  }
<a name="l00377"></a>00377 
<a name="l00387"></a>00387 
<a name="l00388"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a4f940a2353a4938d04773ca531fe2491">00388</a> <a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a> * <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a4f940a2353a4938d04773ca531fe2491" title="Gets the SData2D object en capsuled by this warper.">SData2DScript::data2DObject</a>(<span class="keywordtype">void</span>)
<a name="l00389"></a>00389 {
<a name="l00390"></a>00390      <span class="keywordflow">return</span> data2D_;
<a name="l00391"></a>00391 }
<a name="l00401"></a>00401 <a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a> SData2DScript::data2DObjectCopy(){
<a name="l00402"></a>00402      <span class="keywordflow">return</span> *data2D_;
<a name="l00403"></a>00403 }
<a name="l00404"></a>00404 
<a name="l00410"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a191ffe8b13d4ec0e1baef151759eea0b">00410</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a191ffe8b13d4ec0e1baef151759eea0b" title="set the name of the columns">SData2DScript::setColName</a>( QString Xname, QString Yname )
<a name="l00411"></a>00411 {
<a name="l00412"></a>00412      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a2d627b5bd4d3f1492ca0366ceead294e" title="set the name of the columns">setColName</a>(Xname,Yname);
<a name="l00413"></a>00413 }
<a name="l00419"></a>00419 
<a name="l00420"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a73fde9120e8d1c728a57217a8f7d5677">00420</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a73fde9120e8d1c728a57217a8f7d5677" title="set the name of the X column">SData2DScript::setColXName</a>( QString Xname )
<a name="l00421"></a>00421 {
<a name="l00422"></a>00422      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a42d483045b81280e070899389b735f47" title="set the name of the X column">setColXName</a>(Xname);
<a name="l00423"></a>00423 }
<a name="l00429"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#af655fde4f5bd1d3bc91b17c62faf18d6">00429</a> Q_INVOKABLE QString <a class="code" href="../../d1/d04/class_s_data2_d_script.html#af655fde4f5bd1d3bc91b17c62faf18d6" title="return the name of the X column">SData2DScript::colXName</a>()
<a name="l00430"></a>00430 {
<a name="l00431"></a>00431      <span class="keywordflow">return</span> data2D_-&gt;colXName();
<a name="l00432"></a>00432 }
<a name="l00438"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a5cae80bde14a54208cafb060feefeeeb">00438</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a5cae80bde14a54208cafb060feefeeeb" title="set the name of the Y column">SData2DScript::setColYName</a>( QString Yname )
<a name="l00439"></a>00439 {
<a name="l00440"></a>00440           data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a17564231f93b0e60fafa0745bc659cd1" title="set the name of the X column">setColYName</a>(Yname);
<a name="l00441"></a>00441 }
<a name="l00442"></a>00442 
<a name="l00448"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a1cc174fbe1f280f7b0cc8efb655f6a7a">00448</a> Q_INVOKABLE QString <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a1cc174fbe1f280f7b0cc8efb655f6a7a" title="return the name of the Y column">SData2DScript::colYName</a>()
<a name="l00449"></a>00449 {
<a name="l00450"></a>00450      <span class="keywordflow">return</span> data2D_-&gt;colYName();
<a name="l00451"></a>00451 }
<a name="l00457"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a0fe8d666498d7722721724424c32123a">00457</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a0fe8d666498d7722721724424c32123a" title="set the units of the columns">SData2DScript::setColUnit</a>( QString XUnit, QString YUnit )
<a name="l00458"></a>00458 {
<a name="l00459"></a>00459      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a9287b893d0955ecb08814ecf1358d356" title="set the units of the columns">setColUnit</a>(XUnit,YUnit);
<a name="l00460"></a>00460 }
<a name="l00466"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#aa11a0b6ccd9b17f84ced186aef2a882d">00466</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#aa11a0b6ccd9b17f84ced186aef2a882d" title="set the units of the columns">SData2DScript::setColXUnit</a>( QString XUnit )
<a name="l00467"></a>00467 {
<a name="l00468"></a>00468      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a4261dbd531e6dd08692c26c6a6d95dd2" title="set the unit of the X column">setColXUnit</a>(XUnit);
<a name="l00469"></a>00469 }
<a name="l00475"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#ac7403998fb887d57826b9c4840475d8a">00475</a> Q_INVOKABLE QString <a class="code" href="../../d1/d04/class_s_data2_d_script.html#ac7403998fb887d57826b9c4840475d8a" title="return the unit of the X column">SData2DScript::colXUnit</a>()
<a name="l00476"></a>00476 {
<a name="l00477"></a>00477      <span class="keywordflow">return</span> data2D_-&gt;colXUnit();
<a name="l00478"></a>00478 }
<a name="l00484"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a355bd7a6f8e296c3f0838354df0caa14">00484</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a355bd7a6f8e296c3f0838354df0caa14" title="set the unit of the Y column">SData2DScript::setColYUnit</a>( QString YUnit )
<a name="l00485"></a>00485 {
<a name="l00486"></a>00486      data2D_-&gt;setColYUnit(YUnit);
<a name="l00487"></a>00487 }
<a name="l00493"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a2e5366d721420ee5a0a2d34864d5111d">00493</a> Q_INVOKABLE QString <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a2e5366d721420ee5a0a2d34864d5111d" title="return the unit of the Y column">SData2DScript::colYUnit</a>()
<a name="l00494"></a>00494 {
<a name="l00495"></a>00495      <span class="keywordflow">return</span> data2D_-&gt;colYUnit();
<a name="l00496"></a>00496 }
<a name="l00504"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a53679c19d51f8d1b8fd12dc1154fae14">00504</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a53679c19d51f8d1b8fd12dc1154fae14" title="add a comment that will be put in the header">SData2DScript::addComment</a>( QString com )
<a name="l00505"></a>00505 {
<a name="l00506"></a>00506      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a203e75021c3713e65a4a509341ffbd34" title="add a comment that will be put in the header">addComment</a>(com);
<a name="l00507"></a>00507 }
<a name="l00508"></a>00508 
<a name="l00516"></a>00516 Q_INVOKABLE QScriptValue SData2DScript::comment()<span class="keyword"> const</span>
<a name="l00517"></a>00517 <span class="keyword"></span>{
<a name="l00518"></a>00518      QString qsCmd;
<a name="l00519"></a>00519      QTextStream qtsCmd(&amp;qsCmd);
<a name="l00520"></a>00520      QStringList comments = data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#ae14b7d62920cc784bf9301275e032ada" title="return the list of comment">comment</a>();
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 
<a name="l00523"></a>00523      qtsCmd &lt;&lt; <span class="stringliteral">&quot;new Array(&quot;</span> ;
<a name="l00524"></a>00524 
<a name="l00525"></a>00525      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;comments.size()-1; i++){
<a name="l00526"></a>00526           qtsCmd &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; comments.at(i) &lt;&lt; <span class="stringliteral">&quot;\&quot;,&quot;</span>;
<a name="l00527"></a>00527      }
<a name="l00528"></a>00528 
<a name="l00529"></a>00529      qtsCmd &lt;&lt; comments.at(comments.size()-1) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> ;
<a name="l00530"></a>00530 
<a name="l00531"></a>00531      qsCmd = qtsCmd.readAll();
<a name="l00532"></a>00532 
<a name="l00533"></a>00533      QScriptValue res = this-&gt;engine()-&gt;evaluate(qsCmd);
<a name="l00534"></a>00534 
<a name="l00535"></a>00535      <span class="keywordflow">return</span> res;
<a name="l00536"></a>00536      
<a name="l00537"></a>00537 }
<a name="l00545"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#ad88360b699e8a575b7fd793e7ca6c79a">00545</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#ad88360b699e8a575b7fd793e7ca6c79a" title="(SCRIPTABLE) Empty the data">SData2DScript::clearComment</a>()
<a name="l00546"></a>00546 {
<a name="l00547"></a>00547      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a307d183d696eb1fda04d8650c3ccdeb8" title="clear the all comments">clearComment</a>();
<a name="l00548"></a>00548 
<a name="l00549"></a>00549 }
<a name="l00557"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a9f97eccb944c1c1ff836c7ec75af4b4c">00557</a> Q_INVOKABLE <span class="keywordtype">int</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a9f97eccb944c1c1ff836c7ec75af4b4c" title="(SCRIPTABLE) Gets the count of element.">SData2DScript::size</a>()
<a name="l00558"></a>00558 {
<a name="l00559"></a>00559      <span class="keywordflow">return</span> data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a73f242edb55b8e5e7c1d5b396b19c807" title="Gets the count of element.">size</a>();
<a name="l00560"></a>00560 }
<a name="l00561"></a>00561 
<a name="l00562"></a>00562 
<a name="l00570"></a>00570 Q_INVOKABLE QScriptValue SData2DScript::max( <span class="keywordtype">int</span> <span class="keyword">const</span> start <span class="comment">/*= 0*/</span> )<span class="keyword"> const</span>
<a name="l00571"></a>00571 <span class="keyword"></span>{
<a name="l00572"></a>00572       <a class="code" href="../../d3/d21/struct_s_data2_d_1_1_data_point.html">SData2D::DataPoint</a> pt = data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#a425f4ee55d6520beb9adf68f16065211" title="return the point of the first max find between &amp;quot;start&amp;quot; en the end of the data...">max</a>(start) ;
<a name="l00573"></a>00573 
<a name="l00574"></a>00574       QString qsCmd;
<a name="l00575"></a>00575       QTextStream qtsCmd(&amp;qsCmd);
<a name="l00576"></a>00576 
<a name="l00577"></a>00577       QScriptValue res;
<a name="l00578"></a>00578 
<a name="l00579"></a>00579       <span class="keywordflow">try</span>{
<a name="l00580"></a>00580           
<a name="l00581"></a>00581                 qtsCmd &lt;&lt; <span class="stringliteral">&quot;new Array(&quot;</span> &lt;&lt; pt.x_ &lt;&lt;<span class="stringliteral">&quot; , &quot;</span> &lt;&lt; pt.y_ &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> ;
<a name="l00582"></a>00582                 res = this-&gt;engine()-&gt;evaluate(qsCmd);
<a name="l00583"></a>00583 
<a name="l00584"></a>00584       }<span class="keywordflow">catch</span>(QString error){
<a name="l00585"></a>00585            qtsCmd &lt;&lt; <span class="stringliteral">&quot;new Array(0 , 0)&quot;</span> ;
<a name="l00586"></a>00586            qDebug() &lt;&lt; error;
<a name="l00587"></a>00587            res = this-&gt;engine()-&gt;evaluate(qsCmd);
<a name="l00588"></a>00588       }
<a name="l00589"></a>00589 
<a name="l00590"></a>00590       <span class="keywordflow">return</span> res;
<a name="l00591"></a>00591 
<a name="l00592"></a>00592 }
<a name="l00606"></a><a class="code" href="../../d1/d04/class_s_data2_d_script.html#a36abb2e5b3831dfa8b0931fd0e6453c5">00606</a> Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="../../d1/d04/class_s_data2_d_script.html#a36abb2e5b3831dfa8b0931fd0e6453c5" title="(SCRIPTABLE) set the value val at index position i in the abscissa of the data.">SData2DScript::setx</a>( <span class="keywordtype">int</span> i, <span class="keywordtype">double</span> val )
<a name="l00607"></a>00607 {
<a name="l00608"></a>00608      <span class="keywordflow">if</span>(i &lt; data2D_-&gt;<a class="code" href="../../d1/d04/class_s_data2_d_script.html#a3173b1c47b925d4c1a9d615f70679fa4" title="(SCRIPTABLE) get the value at index position i in the ordinate of the data.">x</a>()-&gt;<a class="code" href="../../d1/d04/class_s_data2_d_script.html#a9f97eccb944c1c1ff836c7ec75af4b4c" title="(SCRIPTABLE) Gets the count of element.">size</a>()){
<a name="l00609"></a>00609           data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#af9443285d28c66da4cca112b7f95d758" title="Gets a pointer to the x data QList.">x</a>()-&gt;replace(i,val) ;
<a name="l00610"></a>00610      }
<a name="l00611"></a>00611 }
<a name="l00612"></a>00612 
<a name="l00626"></a>00626 Q_INVOKABLE <span class="keywordtype">void</span> SData2DScript::sety( <span class="keywordtype">int</span> i, <span class="keywordtype">double</span> val )
<a name="l00627"></a>00627 {
<a name="l00628"></a>00628      <span class="keywordflow">if</span>(i &lt; data2D_-&gt;<a class="code" href="../../d1/d04/class_s_data2_d_script.html#a2fc312b00b4c2a82a70a13cd21f3645c" title="(SCRIPTABLE) get the value at index position i in the abscissa of the data.">y</a>()-&gt;<a class="code" href="../../d1/d04/class_s_data2_d_script.html#a9f97eccb944c1c1ff836c7ec75af4b4c" title="(SCRIPTABLE) Gets the count of element.">size</a>()){
<a name="l00629"></a>00629           data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#aeedc3ad1f2b44bf2f76b93fea7500dc1" title="Gets a pointer to the y data QList.">y</a>()-&gt;replace(i,val) ;
<a name="l00630"></a>00630      }
<a name="l00631"></a>00631 }
<a name="l00632"></a>00632 
<a name="l00644"></a>00644 Q_INVOKABLE <span class="keywordtype">void</span> SData2DScript::setData( <a class="code" href="../../da/d81/class_s_data2_d.html" title="Class for the manipulation of the data in 2 dimensions (y and y).">SData2D</a>  data )
<a name="l00645"></a>00645 {
<a name="l00646"></a>00646 
<a name="l00647"></a>00647      data2D_-&gt;setData(data);
<a name="l00648"></a>00648 }
<a name="l00649"></a>00649 
<a name="l00659"></a>00659 Q_INVOKABLE <span class="keywordtype">void</span> SData2DScript::delItem( <span class="keywordtype">int</span> i ){
<a name="l00660"></a>00660      data2D_-&gt;<a class="code" href="../../da/d81/class_s_data2_d.html#adb8d8a00ae53b4b46f20eef54a368665" title="delete an item of the data">delItem</a>(  i );
<a name="l00661"></a>00661 }
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 20:03:28 for SpinToolBox by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
